"use client";
import {
  circInOut,
  easeInOut,
  motion,
  useScroll,
  useTransform,
} from "framer-motion";
import { useRef } from "react";

function SvgDraw() {
  const ref = useRef(null);

  const { scrollYProgress } = useScroll();

  // Use scroll with offset for the second set of paths
  const { scrollYProgress: frameScroll } = useScroll({
    target: ref,
    offset: ["start start", "end end"], // Adjust these values as needed
  });

  // Transform the scrollYProgress for the first set of paths
  const transformedScrollYProgress1 = useTransform(
    scrollYProgress,
    [0, 1],
    [0, 0.02],
    { ease: easeInOut }
  );

  // Transform the scrollYProgress with offset for the second set of paths
  const transformedScrollYProgress2 = useTransform(frameScroll, [0, 1], [0, 2]);
  return (
    <>
      <div className="relative m-0 h-[200vh] bg-eggYolk">
        <div className="absolute left-0 top-0 h-full w-full items-center  justify-center overflow-hidden text-center">
          <svg
            className="inline-block h-12 w-12"
            viewBox="0 0 35 47"
            fill="#09201C"
          >
            <path d="M33.5 29.1667C33.5 33.4101 31.8143 37.4798 28.8137 40.4804C25.8131 43.4809 21.7435 45.1667 17.5 45.1667C13.2565 45.1667 9.18687 43.4809 6.18629 40.4804C3.18571 37.4798 1.5 33.4101 1.5 29.1667C1.5 24.6378 3.37039 17.5842 6.45799 11.6535C7.99494 8.70131 9.78886 6.11582 11.7209 4.28871C13.66 2.45504 15.6105 1.5 17.5 1.5C19.3895 1.5 21.34 2.45504 23.279 4.28871C25.2111 6.11582 27.0051 8.70131 28.542 11.6535C31.6296 17.5842 33.5 24.6378 33.5 29.1667Z" />
          </svg>

          <motion.svg
            className="inline-block h-auto w-auto"
            viewBox="0 0 4 376"
            preserveAspectRatio="xMidYMax meet"
            fill="none"
          >
            <motion.path
              d="M2 0V2000"
              style={{ pathLength: transformedScrollYProgress1 }}
              strokeDasharray="0 1"
              strokeWidth={0.03}
              stroke={"#09201C"}
            />
          </motion.svg>
        </div>
      </div>
      <div
        ref={ref}
        className="relative z-10 h-[400vh] items-center justify-center overflow-clip bg-[#223C32]"
      >
        <motion.svg
          preserveAspectRatio="xMidYMax meet"
          className="sticky -right-0 left-0  top-0  mt-[-10] inline-block h-screen w-screen"
          viewBox="0 0 1288 504"
          fill="none"
        >
          <motion.path
            style={{ pathLength: transformedScrollYProgress2 }}
            d="M1232 1.5H643.5H56C56 1.5 56 55.5 2 55.5V448.5C2 448.5 56 448.5 56 502.5H643.5H1232C1232 448.5 1286 448.5 1286 448.5V55.5C1232 55.5 1232 1.5 1232 1.5Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress2 }}
            d="M29 79C78.5 79 78.5 29.5 78.5 29.5H580C580 79 629.5 79 629.5 79V420.5C580 420.5 580 470 580 470H78.5C78.5 420.5 29 420.5 29 420.5V79Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress1 }}
            d="M666.727 22.8058L666.727 22.7927C666.74 22.0343 667.051 21.3114 667.592 20.7797C668.133 20.2481 668.861 19.9501 669.62 19.9501C670.378 19.9501 671.106 20.2481 671.647 20.7797C672.188 21.3114 672.499 22.0343 672.512 22.7927L672.512 22.8058L672.512 22.8188V25.2869C675.297 25.276 678.044 25.9048 680.54 27.1181C680.43 26.3747 680.245 25.6423 679.985 24.9326C679.434 23.4264 678.559 22.0589 677.424 20.9259L677.423 20.9248L671.514 15.0154C671.011 14.513 670.33 14.2308 669.62 14.2308C668.909 14.2308 668.228 14.513 667.725 15.0154L661.816 20.9247C661.816 20.9247 661.816 20.9247 661.816 20.9248C660.159 22.5823 659.072 24.7243 658.713 27.0406C658.484 28.5161 658.558 30.0136 658.921 31.4443C659.17 31.1623 659.429 30.8879 659.695 30.6215M666.727 22.8058L666.727 27.3592V26.2474M666.727 22.8058L666.727 22.8188L666.727 26.2474M666.727 22.8058L666.727 26.2474M659.695 30.6215L660.755 31.6829L659.695 30.6222C659.695 30.622 659.695 30.6217 659.695 30.6215ZM659.695 30.6215C661.741 28.5759 664.156 27.1173 666.727 26.2474M671.178 31.1507L671.181 31.1503C672.846 30.9612 674.532 31.1113 676.138 31.5915C677.742 32.0716 679.233 32.8718 680.521 33.9437C680.81 34.1851 681.091 34.4423 681.363 34.7133L688.257 41.6076C688.759 42.11 689.041 42.7913 689.041 43.5017C689.041 44.2121 688.759 44.8934 688.257 45.3957L681.363 52.29C676.509 57.1438 668.64 57.1438 663.786 52.29L663.784 52.2883C662.151 50.6602 661.013 48.6165 660.484 46.3943H661.518H674.544H674.544C675.311 46.3942 676.047 46.0894 676.589 45.547C677.132 45.0046 677.437 44.269 677.437 43.5019V43.5014C677.437 42.7344 677.132 41.9987 676.589 41.4563C676.047 40.9139 675.311 40.6091 674.544 40.609H674.544L661.518 40.609L660.485 40.609C661.015 38.3871 662.153 36.3434 663.785 34.7143L663.788 34.7116C665.774 32.7185 668.381 31.4624 671.178 31.1507Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress1 }}
            d="M620.893 22.8058L620.892 22.7927C620.879 22.0343 620.569 21.3114 620.028 20.7797C619.487 20.2481 618.759 19.9501 618 19.9501C617.241 19.9501 616.513 20.2481 615.972 20.7797C615.431 21.3114 615.121 22.0343 615.108 22.7927L615.107 22.8058L615.107 22.8188V25.2869C612.322 25.276 609.576 25.9048 607.08 27.1181C607.189 26.3747 607.374 25.6423 607.634 24.9326C608.186 23.4264 609.06 22.0589 610.195 20.9259L610.197 20.9248L616.106 15.0154C616.608 14.513 617.29 14.2308 618 14.2308C618.71 14.2308 619.392 14.513 619.894 15.0154L625.803 20.9247C625.803 20.9247 625.803 20.9247 625.803 20.9248C627.461 22.5823 628.548 24.7243 628.907 27.0406C629.135 28.5161 629.061 30.0136 628.699 31.4443C628.449 31.1623 628.191 30.8879 627.924 30.6215M620.893 22.8058L620.893 27.3592V26.2474M620.893 22.8058L620.893 22.8188L620.893 26.2474M620.893 22.8058L620.893 26.2474M627.924 30.6215L626.864 31.6829L627.925 30.6222C627.925 30.622 627.924 30.6217 627.924 30.6215ZM627.924 30.6215C625.878 28.5759 623.463 27.1173 620.893 26.2474M616.441 31.1507L616.438 31.1503C614.773 30.9612 613.087 31.1113 611.482 31.5915C609.877 32.0716 608.386 32.8718 607.099 33.9437C606.81 34.1851 606.528 34.4423 606.257 34.7133L599.363 41.6076C598.86 42.11 598.578 42.7913 598.578 43.5017C598.578 44.2121 598.86 44.8934 599.363 45.3957L606.257 52.29C611.111 57.1438 618.98 57.1438 623.834 52.29L623.835 52.2883C625.469 50.6602 626.606 48.6165 627.136 46.3943H626.102H613.076H613.075C612.308 46.3942 611.573 46.0894 611.03 45.547C610.488 45.0046 610.183 44.269 610.183 43.5019V43.5014C610.183 42.7344 610.488 41.9987 611.03 41.4563C611.573 40.9139 612.308 40.6091 613.075 40.609H613.076L626.102 40.609L627.135 40.609C626.604 38.3871 625.467 36.3434 623.835 34.7143L623.832 34.7116C621.845 32.7185 619.238 31.4624 616.441 31.1507Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress1 }}
            d="M660.5 46C660.5 50.3761 658.762 54.5729 655.667 57.6673C652.573 60.7617 648.376 62.5 644 62.5C639.624 62.5 635.427 60.7617 632.333 57.6673C629.238 54.5729 627.5 50.3761 627.5 46C627.5 41.3332 629.426 34.0712 632.604 27.9667C634.187 24.9276 636.034 22.2638 638.026 20.3801C640.025 18.4899 642.042 17.5 644 17.5C645.958 17.5 647.975 18.4899 649.974 20.3801C651.966 22.2638 653.813 24.9276 655.396 27.9667C658.574 34.0712 660.5 41.3332 660.5 46Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress2 }}
            d="M667.304 469.391L667.304 469.404C667.317 470.162 667.628 470.885 668.169 471.417C668.71 471.949 669.438 472.247 670.197 472.247C670.955 472.247 671.683 471.949 672.224 471.417C672.765 470.885 673.076 470.162 673.089 469.404L673.089 469.391L673.089 469.378V466.91C675.875 466.921 678.621 466.292 681.117 465.079C681.008 465.822 680.822 466.554 680.562 467.264C680.011 468.77 679.137 470.138 678.001 471.271L678 471.272L672.091 477.181C671.588 477.684 670.907 477.966 670.197 477.966C669.486 477.966 668.805 477.684 668.303 477.181L662.393 471.272C662.393 471.272 662.393 471.272 662.393 471.272C660.736 469.614 659.649 467.472 659.29 465.156C659.061 463.681 659.136 462.183 659.498 460.752C659.748 461.034 660.006 461.309 660.273 461.575M667.304 469.391L667.304 464.837V465.949M667.304 469.391L667.304 469.378L667.304 465.949M667.304 469.391L667.304 465.949M660.273 461.575L661.333 460.514L660.272 461.574C660.272 461.575 660.272 461.575 660.273 461.575ZM660.273 461.575C662.318 463.621 664.734 465.079 667.304 465.949M671.755 461.046L671.759 461.046C673.423 461.235 675.109 461.085 676.715 460.605C678.32 460.125 679.811 459.325 681.098 458.253C681.387 458.012 681.669 457.754 681.94 457.483L688.834 450.589C689.336 450.087 689.619 449.405 689.618 448.695C689.619 447.985 689.336 447.303 688.834 446.801L681.94 439.907C677.086 435.053 669.217 435.053 664.363 439.907L664.361 439.908C662.728 441.536 661.591 443.58 661.061 445.802H662.095H675.121H675.121C675.888 445.802 676.624 446.107 677.166 446.65C677.709 447.192 678.014 447.928 678.014 448.695V448.695C678.014 449.462 677.709 450.198 677.166 450.74C676.624 451.283 675.888 451.588 675.121 451.588H675.121L662.095 451.588L661.062 451.588C661.593 453.81 662.73 455.853 664.362 457.482L664.365 457.485C666.351 459.478 668.959 460.734 671.755 461.046Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress1 }}
            d="M621.47 469.391L621.47 469.404C621.456 470.162 621.146 470.885 620.605 471.417C620.064 471.949 619.336 472.247 618.577 472.247C617.819 472.247 617.09 471.949 616.549 471.417C616.008 470.885 615.698 470.162 615.685 469.404L615.685 469.391L615.685 469.378V466.91C612.899 466.921 610.153 466.292 607.657 465.079C607.766 465.822 607.952 466.554 608.211 467.264C608.763 468.77 609.637 470.138 610.773 471.271L610.774 471.272L616.683 477.181C617.185 477.684 617.867 477.966 618.577 477.966C619.288 477.966 619.969 477.684 620.471 477.181L626.381 471.272C626.381 471.272 626.381 471.272 626.381 471.272C628.038 469.614 629.125 467.472 629.484 465.156C629.712 463.681 629.638 462.183 629.276 460.752C629.026 461.034 628.768 461.309 628.501 461.575M621.47 469.391L621.47 464.837V465.949M621.47 469.391L621.47 469.378L621.47 465.949M621.47 469.391L621.47 465.949M628.501 461.575L627.441 460.514L628.502 461.574C628.502 461.575 628.501 461.575 628.501 461.575ZM628.501 461.575C626.455 463.621 624.04 465.079 621.47 465.949M617.018 461.046L617.015 461.046C615.35 461.235 613.664 461.085 612.059 460.605C610.454 460.125 608.963 459.325 607.676 458.253C607.387 458.012 607.105 457.754 606.834 457.483L599.94 450.589C599.438 450.087 599.155 449.405 599.155 448.695C599.155 447.985 599.438 447.303 599.94 446.801L606.834 439.907C611.688 435.053 619.557 435.053 624.411 439.907L624.412 439.908C626.046 441.536 627.183 443.58 627.713 445.802H626.679H613.653H613.652C612.885 445.802 612.15 446.107 611.607 446.65C611.065 447.192 610.76 447.928 610.76 448.695V448.695C610.76 449.462 611.065 450.198 611.607 450.74C612.15 451.283 612.885 451.588 613.652 451.588H613.653L626.679 451.588L627.712 451.588C627.181 453.81 626.044 455.853 624.412 457.482L624.409 457.485C622.422 459.478 619.815 460.734 617.018 461.046Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress2 }}
            d="M661.077 446.197C661.077 441.821 659.339 437.624 656.244 434.529C653.15 431.435 648.953 429.697 644.577 429.697C640.201 429.697 636.004 431.435 632.91 434.529C629.816 437.624 628.077 441.821 628.077 446.197C628.077 450.863 630.004 458.125 633.182 464.23C634.764 467.269 636.612 469.933 638.604 471.817C640.602 473.707 642.619 474.697 644.577 474.697C646.536 474.697 648.552 473.707 650.551 471.817C652.543 469.933 654.39 467.269 655.973 464.23C659.151 458.125 661.077 450.863 661.077 446.197Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
          <motion.path
            style={{ pathLength: transformedScrollYProgress2 }}
            d="M1259.5 78.5C1210 78.5 1210 29 1210 29H708.5C708.5 78.5 659 78.5 659 78.5V420C708.5 420 708.5 469.5 708.5 469.5H1210C1210 420 1259.5 420 1259.5 420V78.5Z"
            strokeDasharray="0 1"
            strokeWidth={3}
            stroke={"#09201C"}
          />
        </motion.svg>
      </div>
      <div className="h-[100vh] bg-eggWhite" />
    </>
  );
}

export default SvgDraw;
